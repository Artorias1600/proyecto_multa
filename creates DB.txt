CREATE DATABASE InfraccionVehicular;
USE InfraccionVehicular;

CREATE TABLE Usuarios (
    UsuarioID INT AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(100),
    Contrasena VARCHAR(100)
);

CREATE TABLE Vehiculos (
    VehiculoID INT AUTO_INCREMENT PRIMARY KEY,
    Tipo VARCHAR(50),
    Marca VARCHAR(50),
    Modelo VARCHAR(50),
    Placa VARCHAR(20)
);

CREATE TABLE Conductores (
    ConductorID INT AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(100),
    Licencia VARCHAR(50)
);

CREATE TABLE Sanciones (
    SancionID INT AUTO_INCREMENT PRIMARY KEY,
    Descripcion VARCHAR(255),
    Costo DECIMAL(10, 2)
);

CREATE TABLE AgentesTransito (
    AgenteID INT AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(100),
    Placa VARCHAR(20)
);

CREATE TABLE Infracciones (
    InfraccionID INT AUTO_INCREMENT PRIMARY KEY,
    VehiculoID INT,
    ConductorID INT,
    SancionID INT,
    AgenteID INT,
    Fecha DATE,
    FOREIGN KEY (VehiculoID) REFERENCES Vehiculos(VehiculoID),
    FOREIGN KEY (ConductorID) REFERENCES Conductores(ConductorID),
    FOREIGN KEY (SancionID) REFERENCES Sanciones(SancionID),
    FOREIGN KEY (AgenteID) REFERENCES AgentesTransito(AgenteID)
);

CREATE TABLE Pagos (
    PagoID INT AUTO_INCREMENT PRIMARY KEY,
    InfraccionID INT,
    FechaPago DATE,
    MontoPagado DECIMAL(10, 2),
    FOREIGN KEY (InfraccionID) REFERENCES Infracciones(InfraccionID)
);
